from flask import Flask, render_template, request
from sklearn.feature_extraction.text import CountVectorizer
from sklearn.metrics.pairwise import cosine_similarity

app = Flask(__name__)

def get_match_percentage(resume_text, jd_text):
    text_list = [resume_text, jd_text]
    cv = CountVectorizer()
    count_matrix = cv.fit_transform(text_list)
    
    # Similarity score calculate karna
    match_percentage = cosine_similarity(count_matrix)[0][1] * 100
    return round(match_percentage, 2)

@app.route('/', methods=['GET', 'POST'])
def index():
    score = None
    if request.method == 'POST':
        resume = request.form['resume']
        jd = request.form['jd']
        score = get_match_percentage(resume, jd)
    return render_template('index.html', score=score)

if __name__ == '__main__':
    app.run(debug=True)

